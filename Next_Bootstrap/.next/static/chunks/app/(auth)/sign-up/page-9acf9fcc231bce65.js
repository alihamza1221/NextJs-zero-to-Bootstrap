(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[431],{51379:function(e,s,t){Promise.resolve().then(t.bind(t,48093))},48093:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var a=t(57437),l=t(38472),r=t(2265),n=t(16463),i=t(39343),c=t(30552),o=t(70750),m=t(31014),d=t(87138),u=t(23580),x=t(65101);function f(){var e,s,t;let[f,p]=(0,r.useState)(""),[h,b]=(0,r.useState)(!0),[v,j]=(0,r.useState)(!1),w=(0,n.useRouter)(),g=(0,o.Sf)(p,500),{register:N,handleSubmit:y,reset:k,watch:S,getValues:E,setValue:_,formState:A,control:P}=(0,i.cI)({defaultValues:{username:"",email:"",password:""},mode:"onBlur",resolver:(0,m.F)(c.B)}),{errors:z,isLoading:F,isDirty:U,isValid:B}=A;(0,r.useEffect)(()=>{let e=S(e=>{g(e.username)});return()=>e.unsubscribe()},[S]),(0,r.useEffect)(()=>{(async()=>{if(f)try{let e=await l.Z.get("/api/usernameValidation?username=".concat(f));b(e.data.success)}catch(s){var e;b(!1),console.log(null===(e=s.response)||void 0===e?void 0:e.data.message)}else b(!1)})()},[f]);let R=async e=>{j(!0),console.log(e),B&&U||u.Am.info("Please fill the form correctly");try{let s=await l.Z.post("/api/sign-up",e);s.data.success?w.replace("/verify/".concat(e.username)):s.data&&u.Am.info(s.data.message),u.Am.success("Registration Successful")}catch(e){var s,t;console.log(null===(s=e.response)||void 0===s?void 0:s.data.message),u.Am.error(null===(t=e.response)||void 0===t?void 0:t.data.message)}finally{j(!1),k()}};return F||v?(0,a.jsx)("div",{className:"flex w-full h-screen justify-center items-center ",children:(0,a.jsx)(x.j,{})}):(0,a.jsx)("div",{className:"w-[89%] mx-auto h-screen flex justify-center items-center",children:(0,a.jsxs)("form",{className:"bg-slate-50 min-h-[30rem] flex md:max-w-md 2xl:max-w-xl max-h-[40rem] w-full p-5  justify-center items-center border-2 rounded-sm border-slate-50 shadow-md flex-col",onSubmit:y(R),children:[(0,a.jsx)("h1",{className:"text-center text-3xl font-bold my-3",children:"Register"}),(0,a.jsxs)("div",{className:"form-field w-[85%] p-3",children:[(0,a.jsx)("label",{htmlFor:"username",className:"inline-block text-xs text-slate-700",children:"Username"}),(0,a.jsx)("input",{type:"text",id:"username",...N("username"),className:"input-form-field"}),(0,a.jsxs)("p",{className:"".concat(h?"text-black":"text-red-500"," text-xs"),children:[" ",h?(0,a.jsx)("span",{children:"username available"}):(null===(e=z.username)||void 0===e?void 0:e.message)||E("username")&&"Username is not available"]})]}),(0,a.jsxs)("div",{className:"form-field w-[85%] p-3",children:[(0,a.jsx)("label",{htmlFor:"email",className:"inline-block text-xs text-slate-700",children:"Email"}),(0,a.jsx)("input",{type:"text",id:"email",...N("email"),className:"input-form-field"}),(0,a.jsx)("p",{className:"".concat(z.email?"text-red-500":"text-white"," text-xs"),children:z.email?null===(s=z.email)||void 0===s?void 0:s.message:"Email is Valid"})]}),(0,a.jsxs)("div",{className:"form-field w-[85%] p-3",children:[(0,a.jsx)("label",{htmlFor:"password",className:"inline-block text-xs text-slate-700",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"password",...N("password"),className:"input-form-field"}),(0,a.jsx)("p",{className:"".concat(z.password?"text-red-500":"text-white"," text-xs"),children:z.password?null===(t=z.password)||void 0===t?void 0:t.message:"Password is valid"})]}),(0,a.jsx)("div",{className:"block w-3/4 text-center",children:(0,a.jsx)("hr",{className:"mx-auto w-3/4 border-slate-200 border-b-[1px]"})}),(0,a.jsx)("button",{type:"submit",className:"border box-border rounded-sm  px-6 bg-blue-600 hover:bg-blue-700 cursor-pointer p-3 mt-5 text-white font-bold text-sm active:border-black",children:"Submit"}),(0,a.jsxs)("span",{className:"w-[85%] p-3  block text-start text-slate-600 mt-1",children:["Already have an account?",(0,a.jsxs)(d.default,{className:"underline hover:cursor-pointer text-blue-600",href:"/sign-in",children:[" ","SignIn"]})]})]})})}},65101:function(e,s,t){"use strict";t.d(s,{j:function(){return r}});var a=t(57437),l=t(53780);function r(){return(0,a.jsx)("div",{className:"flex gap-8",children:(0,a.jsx)(l.Spinner,{color:"blue"})})}},30552:function(e,s,t){"use strict";t.d(s,{$:function(){return l},B:function(){return r}});var a=t(59772);let l=a.z.string().min(3,{message:"Username must be at least 3 characters long"}).max(20,{message:"Username must be at most 20 characters long"}),r=a.z.object({username:l,email:a.z.string().email(),password:a.z.string().min(6,{message:"Password must be at least 6 characters long"})})}},function(e){e.O(0,[590,580,472,255,413,750,971,23,744],function(){return e(e.s=51379)}),_N_E=e.O()}]);